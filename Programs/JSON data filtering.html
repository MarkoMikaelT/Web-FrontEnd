<DOCTYPE html>
<html lang="fi-FI">
<head>
    <title>Opiskelijat taulukko</title>
    <style>
    table, tr, td {
        border: 1px solid black;
    }
    tr, td {
      padding: 5px;
    }
    </style>
</head>
<body>

    Kaikki opiskelijat <input type="radio" value="all" name="sukupuoli"><br>
    Vain naiset <input type="radio" value="nainen" name="sukupuoli"><br>
    Vain miehet <input type="radio" value="mies" name="sukupuoli"><br>

    Valitse opiskeluala:
    <select id="Field" name="field">
    <option value="Every">Kaikki</option>
    <option value="CS">Computer Science</option>
    <option value="B">Business</option>
    <option value="A">Art</option>
    </select> 

    <select id="järjestys" name="järjestys">
        <option value="Aakkos" >Aakkosjärjestys</option>
        <option value="Ikä">Ikäjärjestys</option>
    </select>

    <table id="myTable"></table>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementsByName("sukupuoli").forEach(function(value) {
                value.addEventListener('change', checkChanged)

            });
        });

        function checkChanged()
        {
            var F = document.getElementById("Field").value;
            var J = document.getElementById("järjestys").value;

            console.log(this.value, "ja" ,F, J);
            if(this.value == "all")
            {
                console.log("all radiobutton was checked");

                if(J == "Aakkos") {
                        console.log("AAKKOSET");
                    ASorter(Op);
                    Op.forEach(tableAll);
                    document.getElementById("myTable").innerHTML = output + output1;
                    output = "";
                    output1 = "";
                }

                if(F == "CS") {
                    console.log("CS ehto")
                OpAllCS.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                else if(F == "B") {
                    console.log("B ehto")
                OpAllB.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                else if(F == "A") {
                    console.log("A ehto")
                OpAllA.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
            }
            else if(this.value == "nainen")
            {
                console.log("nainen radiobutton was checked");

                if(J == "Aakkos") {
                        console.log("AAKKOSET");
                    ASorter(OpFemale);
                    OpFemale.forEach(tableAll);
                    document.getElementById("myTable").innerHTML = output + output1;
                    output = "";
                    output1 = "";
                }

                if(F == "CS") {
                    console.log("CS nainen")
                OpFeCS.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                else if(F == "B") {
                    console.log("B nainen")
                OpFeB.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                else if(F == "A") {
                    console.log("A nainen")
                OpFeA.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                
            }
            else if(this.value == "mies")
            {
                console.log("mies radiobutton was checked");

                if(J == "Aakkos") {
                        console.log("AAKKOSET");
                    ASorter(Op);
                    document.getElementById("myTable").innerHTML = output + output1;
                    output = "";
                    output1 = "";
                }

                if(F == "CS") {
                    console.log("CS mies")
                OpMeCS.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                else if(F == "B") {
                    console.log("B mies")
                OpMeB.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
                else if(F == "A") {
                    console.log("A mies")
                OpMeA.forEach(tableAll);
                document.getElementById("myTable").innerHTML = output + output1;
                output = "";
                output1 = "";
                }
            }
        }

        var studentsJSON = '   [  '  + 
 '     {  '  + 
 '       "student_id": "123456",  '  + 
 '       "age": 20,  '  + 
 '       "firstname": "Horne",  '  + 
 '       "lastname": "Hess",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Computer Science",  '  + 
 '       "email": "hornehess@magnafone.com",  '  + 
 '       "phone": "+1 (877) 436-3132",  '  + 
 '       "address": "745 Livingston Street, Cassel, South Dakota, 103",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "111",  '  + 
 '           "course_name": "Programming 1",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "112",  '  + 
 '           "course_name": "Programming 2",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "113",  '  + 
 '           "course_name": "Web-Technologies",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "114",  '  + 
 '           "course_name": "Data Structures",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "115",  '  + 
 '           "course_name": "Mobile Programming",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "116",  '  + 
 '           "course_name": "Project 1",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "117",  '  + 
 '           "course_name": "Mathematics 1",  '  + 
 '           "credits": 3  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111111",  '  + 
 '       "age": 37,  '  + 
 '       "firstname": "Bernadette",  '  + 
 '       "lastname": "Roach",  '  + 
 '       "gender": "female",  '  + 
 '       "study_field": "Business",  '  + 
 '       "email": "bernadetteroach@viagreat.com",  '  + 
 '       "phone": "+1 (984) 489-3561",  '  + 
 '       "address": "938 Eastern Parkway, Oley, Idaho, 8447",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "200",  '  + 
 '           "course_name": "Orientation",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "201",  '  + 
 '           "course_name": "Innovative Thinking",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "202",  '  + 
 '           "course_name": "International Business",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "203",  '  + 
 '           "course_name": "Accounting 1",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "204",  '  + 
 '           "course_name": "Accounting 2",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "205",  '  + 
 '           "course_name": "Marketing 1",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "206",  '  + 
 '           "course_name": "Marketing 2",  '  + 
 '           "credits": 7  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111222",  '  + 
 '       "age": 22,  '  + 
 '       "firstname": "Knapp",  '  + 
 '       "lastname": "Gamble",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Art",  '  + 
 '       "email": "knappgamble@accruex.com",  '  + 
 '       "phone": "+1 (912) 531-3662",  '  + 
 '       "address": "944 Poly Place, Jennings, Indiana, 1967",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "300",  '  + 
 '           "course_name": "Basics of Art",  '  + 
 '           "credits": 3  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "301",  '  + 
 '           "course_name": "Orientation to studies",  '  + 
 '           "credits": 10  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "302",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 6  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "303",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "304",  '  + 
 '           "course_name": "Painting 1",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "305",  '  + 
 '           "course_name": "Painting 2",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "306",  '  + 
 '           "course_name": "Thesis",  '  + 
 '           "credits": 7  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111333",  '  + 
 '       "age": 26,  '  + 
 '       "firstname": "Glenn",  '  + 
 '       "lastname": "Arnold",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Art",  '  + 
 '       "email": "glennarnold@bostonic.com",  '  + 
 '       "phone": "+1 (996) 537-2027",  '  + 
 '       "address": "163 Prospect Street, Whitestone, Wisconsin, 7045",  '  + 
 '       "courses_done": [  '  + 
 '        {  '  + 
 '           "course_id": "302",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 6  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "303",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "304",  '  + 
 '           "course_name": "Painting 1",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "305",  '  + 
 '           "course_name": "Painting 2",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "307",  '  + 
 '           "course_name": "ART Studies 1",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "308",  '  + 
 '           "course_name": "Art Studies 2",  '  + 
 '           "credits": 10  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111444",  '  + 
 '       "age": 21,  '  + 
 '       "firstname": "Caldwell",  '  + 
 '       "lastname": "Wheeler",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Computer Science",  '  + 
 '       "email": "caldwellwheeler@unq.com",  '  + 
 '       "phone": "+1 (856) 516-3966",  '  + 
 '       "address": "269 Apollo Street, Waterford, American Samoa, 6614",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "111",  '  + 
 '           "course_name": "Programming 1",  '  + 
 '           "credits": 10  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111555",  '  + 
 '       "age": 29,  '  + 
 '       "firstname": "Marjorie",  '  + 
 '       "lastname": "Oneal",  '  + 
 '       "gender": "female",  '  + 
 '       "study_field": "Computer Science",  '  + 
 '       "email": "marjorieoneal@softmicro.com",  '  + 
 '       "phone": "+1 (853) 454-2876",  '  + 
 '       "address": "352 Central Avenue, Brutus, Michigan, 3144",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "112",  '  + 
 '           "course_name": "Programming 2",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "113",  '  + 
 '           "course_name": "Web-Technologies",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "114",  '  + 
 '           "course_name": "Data Structures",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "115",  '  + 
 '           "course_name": "Mobile Programming",  '  + 
 '           "credits": 5  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "116",  '  + 
 '           "course_name": "Project 1",  '  + 
 '           "credits": 5  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111666",  '  + 
 '       "age": 26,  '  + 
 '       "firstname": "Duffy",  '  + 
 '       "lastname": "Owens",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Business",  '  + 
 '       "email": "duffyowens@farmage.com",  '  + 
 '       "phone": "+1 (831) 445-2693",  '  + 
 '       "address": "814 Neptune Court, Keller, Tennessee, 5897",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "200",  '  + 
 '           "course_name": "Orientation",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "201",  '  + 
 '           "course_name": "Innovative Thinking",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "202",  '  + 
 '           "course_name": "International Business",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "203",  '  + 
 '           "course_name": "Accounting 1",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "204",  '  + 
 '           "course_name": "Accounting 2",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "205",  '  + 
 '           "course_name": "Marketing 1",  '  + 
 '           "credits": 7  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111777",  '  + 
 '       "age": 40,  '  + 
 '       "firstname": "Sharron",  '  + 
 '       "lastname": "Hahn",  '  + 
 '       "gender": "female",  '  + 
 '       "study_field": "Business",  '  + 
 '       "email": "sharronhahn@cosmosis.com",  '  + 
 '       "phone": "+1 (905) 511-3179",  '  + 
 '       "address": "624 Christopher Avenue, Nescatunga, Massachusetts, 3501",  '  + 
 '       "courses_done": [  '  + 
 '        {  '  + 
 '           "course_id": "200",  '  + 
 '           "course_name": "Orientation",  '  + 
 '           "credits": 7  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "203",  '  + 
 '           "course_name": "Accounting 1",  '  + 
 '           "credits": 8  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "204",  '  + 
 '           "course_name": "Accounting 2",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "205",  '  + 
 '           "course_name": "Marketing 1",  '  + 
 '           "credits": 7  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111888",  '  + 
 '       "age": 25,  '  + 
 '       "firstname": "Lucas",  '  + 
 '       "lastname": "Sanchez",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Art",  '  + 
 '       "email": "lucassanchez@isodrive.com",  '  + 
 '       "phone": "+1 (992) 527-3722",  '  + 
 '       "address": "972 Rutland Road, Munjor, North Dakota, 4550",  '  + 
 '       "courses_done": [  '  + 
 '         {  '  + 
 '           "course_id": "302",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 6  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     },  '  + 
 '     {  '  + 
 '       "student_id": "111999",  '  + 
 '       "age": 34,  '  + 
 '       "firstname": "Sosa",  '  + 
 '       "lastname": "Schmidt",  '  + 
 '       "gender": "male",  '  + 
 '       "study_field": "Art",  '  + 
 '       "email": "sosaschmidt@rockyard.com",  '  + 
 '       "phone": "+1 (848) 420-2418",  '  + 
 '       "address": "993 Banner Avenue, Ronco, West Virginia, 5248",  '  + 
 '       "courses_done": [  '  + 
 '   	{  '  + 
 '           "course_id": "301",  '  + 
 '           "course_name": "Orientation to studies",  '  + 
 '           "credits": 10  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "302",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 6  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "303",  '  + 
 '           "course_name": "Drawing Techniques 1",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "304",  '  + 
 '           "course_name": "Painting 1",  '  + 
 '           "credits": 4  '  + 
 '         },  '  + 
 '         {  '  + 
 '           "course_id": "305",  '  + 
 '           "course_name": "Painting 2",  '  + 
 '           "credits": 5  '  + 
 '         }  '  + 
 '       ]  '  + 
 '     }  '  + 
 '  ]  ' ; 
        var Op = JSON.parse(studentsJSON);

        function ASorter(Op) {
            Op.sort(function(a, b){
            var x = a.lastname.toLowerCase();
            var y = b.lastname.toLowerCase();
            if (x < y) {return -1;}
            if (x > y) {return 1;}
            return 0;
            });
            }

        var OpMen = Op.filter(tableMen);
        var OpFemale = Op.filter(tableFemale);

        var OpAllCS = Op.filter(CSAll);
        var OpFeCS = OpFemale.filter(CSFemale);
        var OpMeCS = OpMen.filter(CSMen);

        var OpAllB = Op.filter(BAll);
        var OpFeB = OpFemale.filter(BFemale);
        var OpMeB = OpMen.filter(BMen);

        var OpAllA = Op.filter(AAll);
        var OpFeA = OpFemale.filter(AFemale);
        var OpMeA = OpMen.filter(AMen);

        var output = "";
        var output1 = "";
        
        Op.forEach(tableAll);
        document.getElementById("myTable").innerHTML = output + output1;

        var output = "";
        var output1 = "";

        function tableAll(Op) {
            output = '<tr>' + '<th>' + "Student id" + '</th>' + '<th>' + "age" + '</th>' + 
            '<th>' + "Firstname" + '</th>' + '<th>' + "Lastname" + '</th>' + 
            '<th>' + "gender" + '</th>' + '<th>' + "Study field" + '</th>' + 
            '<th>' + "Email" + '</th>' + '<th>' + "Phone" + '</th>' +
            '<th>' + "address" + '</th>' + '</tr>';

            output1 += '<tr>' + '<td>' + Op.student_id + '</td>' + '<td>' + Op.age + '</td>' + 
            '<td>' + Op.firstname + '</td>' + '<td>' + Op.lastname + '</td>' + 
            '<td>' + Op.gender + '</td>' + '<td>' + Op.study_field + '</td>' + 
            '<td>' + Op.email + '</td>' + '<td>' + Op.phone + '</td>' +
            '<td>' + Op.address + '</td>' + '</tr>';
        }

        function tableMen(Op) {
            return Op.gender == "male";
        }

        function tableFemale(Op) {
            return Op.gender == "female"
        }

            //Computer filtterit
        function CSAll(Op) {
            return Op.study_field == "Computer Science"
        }
        function CSFemale(OpFemale) {
            return OpFemale.study_field == "Computer Science"
        }
        function CSMen(OpMen) {
            return OpMen.study_field == "Computer Science"
        }
            //business filtterit
        function BAll(Op) {
            return Op.study_field == "Business"
        }
        function BFemale(OpFemale) {
            return OpFemale.study_field == "Business"
        }
        function BMen(OpMen) {
            return OpMen.study_field == "Business"
        }
            //ART filtterit
        function AAll(Op) {
            return Op.study_field == "Art"
        }
        function AFemale(OpFemale) {
            return OpFemale.study_field == "Art"
        }
        function AMen(OpMen) {
            return OpMen.study_field == "Art"
        }


    </script>
</body>
</html>